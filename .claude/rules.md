# 開発ルール

## コーディング規約
- 関数名：キャメルケース（drawSingle, determineRarity）
- 定数名：アッパースネークケース（RARITY_RATES）
- インデント：スペース4つ
- セミコロン：必須
- コメント：複雑なロジックには必ず説明を入れる

## テスト
- 新機能追加時は必ずテストを先に書く（TDD）
- テストファイル名：[対象ファイル名].test.js
- テストカバレッジ：主要ロジックは必須

## ファイル構成
- 機能ごとにファイルを分割
- utils/ にロジック、commands/ にコマンド実装
- 画像などのアセットは assets/ に配置

## Git運用ルール

### コミットのタイミング
以下のタイミングで必ずコミット：
- テストが全て通った時
- 1つの機能実装が完了した時
- リファクタリング完了時
- バグ修正完了時

注意：動かないコード、テストが失敗する状態ではコミットしない

### プッシュのタイミング
以下のタイミングでプッシュ：
- 作業セッション終了時（その日の作業が終わったら）
- 大きな機能が完成してテスト全部通った時
- 別の環境で作業する前
- Claude Codeとの作業の区切りがついた時

複数のコミットをまとめてプッシュしてOK

## コミットメッセージ
- 日本語でOK
- 形式：[種別] 変更内容
- 種別：feat（機能追加）、fix（バグ修正）、test（テスト）、docs（ドキュメント）

## ドキュメント
- 重要な変更があったらREADME.mdも更新
- .claude/project-info.md のメモ欄に決定事項を記録

## その他
- エラーハンドリングを忘れない
- console.logでデバッグ情報を適切に出力
- ハードコードせず、定数化を心がける
